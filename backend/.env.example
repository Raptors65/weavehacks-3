# Beacon Backend Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# Browserbase / Stagehand (for web scraping)
# =============================================================================
BROWSERBASE_API_KEY=your-browserbase-api-key
BROWSERBASE_PROJECT_ID=your-browserbase-project-id
# MODEL_API_KEY is used by Stagehand SDK for AI-powered browser automation
MODEL_API_KEY=sk-your-model-api-key

# =============================================================================
# LLM Provider (for topic classification)
# =============================================================================
# OPENAI_API_KEY is used by our classification worker (separate from Stagehand)
OPENAI_API_KEY=sk-your-openai-api-key
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini

# =============================================================================
# Anthropic (for Claude Agent SDK - coding fixes)
# =============================================================================
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# =============================================================================
# GitHub Integration (for creating issues and PRs)
# =============================================================================
# Personal access token with 'repo' scope
GITHUB_TOKEN=ghp_your-github-token
# JSON mapping of product names to GitHub repos
# Example: {"joplin": "joplin/joplin", "obsidian": "obsidianmd/obsidian-releases"}
PRODUCT_REPOS={}

# =============================================================================
# Embedding Provider
# =============================================================================
# Options: local (default, uses sentence-transformers)
EMBEDDING_PROVIDER=local
EMBEDDING_MODEL=all-MiniLM-L6-v2

# =============================================================================
# Clustering Thresholds
# =============================================================================
# High threshold: signals above this are merged into existing topic
CLUSTER_THRESHOLD_HIGH=0.75
# Low threshold: signals between low and high create new topic but flag for review
CLUSTER_THRESHOLD_LOW=0.60

# =============================================================================
# Worker Configuration
# =============================================================================
# Embed worker
EMBED_WORKER_POLL_INTERVAL=1.0
EMBED_WORKER_BATCH_SIZE=10

# Classify worker
CLASSIFY_WORKER_POLL_INTERVAL=2.0
CLASSIFY_WORKER_BATCH_SIZE=5

# =============================================================================
# Weights & Biases (for Weave observability)
# =============================================================================
# Get your API key from https://wandb.ai/authorize
WANDB_API_KEY=your-wandb-api-key
# Project name for Weave traces (format: "project" or "team/project")
WEAVE_PROJECT=beacon-agent
